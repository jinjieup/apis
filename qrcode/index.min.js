var qr_url = "https://api.qrserver.com/v1/create-qr-code/?"

function qrcode(){
  var qr_size = document.getElementById("size").value;
  var qr_size_post = qr_size + "x" + qr_size;
  var origin_url = document.getElementById("basic-url").value;
  var post_url = qr_url+"size="+qr_size_post+"&data="+origin_url;
  if(origin_url == '') {
    alert("请正确输入内容！");
    console.warn("empty origin content entered!");
  } else {
    console.log("post url:"+post_url);
    document.getElementById("qrcode").src=post_url;
    document.getElementById("load_circle").style="display:none;";
    document.getElementById("qrcode").style="width: 150px;height: 150px;display: block;";
  }
}

function clear_info(){
  document.getElementById("basic-url").value = '';
  document.getElementById("size").value = '150';
  document.getElementById("qrcode").style="width: 150px;height: 150px;display: none;";
  document.getElementById("qrcode").src='';
  document.getElementById("load_circle").style="display= -webkit-inline-box";
}

function check_qr(){
  var qr_size = document.getElementById("size").value;
  var qr_size_post = qr_size + "x" + qr_size;
  var origin_url = document.getElementById("basic-url").value;
  var post_url = qr_url+"size="+qr_size_post+"&data="+origin_url;
  if(origin_url == '') {
    alert("请正确输入内容！");
    console.warn("empty origin content entered!");
  } else {
    console.log("post url:"+post_url);
    document.getElementById("qrcode").src=post_url;
    document.getElementById("load_circle").style="display:none;";
    document.getElementById("qrcode").style="width: 150px;height: 150px;display: block;";
  }
  var origin_url = document.getElementById("basic-url").value;
  window.open(origin_url,"_blank");
}